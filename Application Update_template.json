{"workflow_definition":{"workflow_uuid":"f5e6ed47-ff1d-425f-919c-52ee41989899","organization_group_uuid":"9fb4606a-4e81-4a49-a4a1-74bcef3c4cf2","name":"Application Update","description":"","payload":{"comment":"","starts_at":"Check Condition 1 StepId:9c643d05-bfe2-4a60-8558-b3b5e188034d","steps":{"Check Condition 1 StepId:9c643d05-bfe2-4a60-8558-b3b5e188034d":{"choice":{"if":[{"resource":"Sensor","negation":false,"type":"Resource","rules":[{"type":"Resource","criteria":{"value":"newenrolled","property":"Name","operator":"StringEquals"},"connecting_operator":"And"},{"type":"Resource","criteria":{"value":"True","property":"Value","operator":"BooleanEquals"}}]}],"then":[{"type":"Action","action":{"action_type":"InstallWindowsApplication","parameters":{"application_identifier":"5bea0d62-4c5c-4cfe-8fb8-e1ec23e0f092","product_code":"{23170F69-40C1-2702-1900-000001000000}","version":"19.00.00.0","package_identifier":"{23170F69-40C1-2702-0000-000004000000}","application_name":"7-Zip 19.00 (x64 edition)","additional_properties":{"application_source_type":"INTERNAL","application_type":"Internal","version":"19.00.00.0"}},"policy":{"reinstall_if_removed":false},"resource_found":true},"is_skip_enabled":false,"timeout_in_minutes":120,"is_retry_enabled":true,"retry_time_interval_in_minutes":30,"retry_attempts":4,"retry_backoff_rate":2.0,"timeout_format":"MINUTE","time_interval_format":"MINUTE","is_delay_enabled":false,"delay_time_interval_in_minutes":0,"name":"Install 7-Zip 19.00 (x64 edition) 19.00.00.0 StepId:b4f496db-e2f6-40fa-8b26-0e82ed659c52","end":true}],"else":{"else_step":[{"type":"Action","action":{"parameters":{"script_uuid":"3c160e1f-7e7b-47ce-8f6a-5ccf2346aae8","version_uuid":"00000000-0000-0000-0000-000000000000","script_name":"create deferral screen"},"action_type":"ExecuteWindowsScript","resource_found":true},"is_skip_enabled":false,"timeout_in_minutes":0,"is_retry_enabled":false,"retry_time_interval_in_minutes":0,"retry_attempts":0,"retry_backoff_rate":0.0,"is_delay_enabled":false,"delay_time_interval_in_minutes":0,"name":"Run create deferral screen StepId:65c6407c-a34e-45e8-9331-461e600fc50c","next":"Check Condition 2 StepId:87c11e68-aad0-496d-9b94-4dd87d7576d9"},{"choice":{"if":[{"resource":"File","negation":false,"type":"Resource","rules":[{"type":"Resource","criteria":{"value":"C:\\ProgramData\\Airwatch\\Deferral\\start.txt","property":"Path","operator":"StringEquals"}}]}],"then":[{"type":"Action","action":{"action_type":"InstallWindowsApplication","parameters":{"application_identifier":"5bea0d62-4c5c-4cfe-8fb8-e1ec23e0f092","product_code":"{23170F69-40C1-2702-1900-000001000000}","version":"19.00.00.0","package_identifier":"{23170F69-40C1-2702-0000-000004000000}","application_name":"7-Zip 19.00 (x64 edition)","additional_properties":{"application_source_type":"INTERNAL","application_type":"Internal","version":"19.00.00.0"}},"policy":{"reinstall_if_removed":false},"resource_found":true},"is_skip_enabled":false,"timeout_in_minutes":120,"is_retry_enabled":true,"retry_time_interval_in_minutes":30,"retry_attempts":4,"retry_backoff_rate":2.0,"timeout_format":"MINUTE","time_interval_format":"MINUTE","is_delay_enabled":false,"delay_time_interval_in_minutes":0,"name":"Install 7-Zip 19.00 (x64 edition) 19.00.00.0 StepId:e2fdb11d-ebb2-4600-aedd-e1195499e268","next":"Run deferral cleanup StepId:0c480c2c-2f54-4526-955f-e116f10395cc"},{"type":"Action","action":{"parameters":{"script_uuid":"27ca6ec3-d2ea-492b-b767-5dc85fc2e046","version_uuid":"00000000-0000-0000-0000-000000000000","script_name":"deferral cleanup"},"action_type":"ExecuteWindowsScript","resource_found":true},"is_skip_enabled":false,"timeout_in_minutes":0,"is_retry_enabled":false,"retry_time_interval_in_minutes":0,"retry_attempts":0,"retry_backoff_rate":0.0,"is_delay_enabled":false,"delay_time_interval_in_minutes":0,"name":"Run deferral cleanup StepId:0c480c2c-2f54-4526-955f-e116f10395cc","end":true}],"policy":{"reevaluate_condition":false,"evaluate_condition_even_without_user_context":false}},"type":"ChoiceV2","name":"Check Condition 2 StepId:87c11e68-aad0-496d-9b94-4dd87d7576d9","end":true}]},"policy":{"reevaluate_condition":false,"evaluate_condition_even_without_user_context":false}},"type":"ChoiceV2","name":"Check Condition 1 StepId:9c643d05-bfe2-4a60-8558-b3b5e188034d","end":true}},"is_imported":false},"created_on":"2023-03-29T16:03:42.24","created_by":"233a7be4-d3d3-4abb-95af-990ff312f682","modified_on":"2023-03-29T16:21:51.1","modified_by":"233a7be4-d3d3-4abb-95af-990ff312f682","version":"fe0acb4a-980b-4f07-856f-566f3be0619a","device_type":"WinRT","type":"Default","structured_payload_version":2,"catalog_display":{"display_images":[{"href":"publicblob/70ef9aa2-04bf-403a-b9c4-9b9d7d723154/BlobHandler.pblob","use_default":true}],"categories":[],"display_name":"Application Update","display_description":""},"implicit_workflow":false,"workflow_entities":[{"EntityType":3,"EntityUuid":"3c160e1f-7e7b-47ce-8f6a-5ccf2346aae8"},{"EntityType":3,"EntityUuid":"27ca6ec3-d2ea-492b-b767-5dc85fc2e046"},{"EntityType":4,"EntityUuid":"b6b73946-e6f5-4e45-ab22-8c975f9aea7e"},{"EntityType":1,"EntityUuid":"5bea0d62-4c5c-4cfe-8fb8-e1ec23e0f092"}],"change_log_description":"","version_id":2,"workflow_attributes":[]},"scripts":[{"script_uuid":"3c160e1f-7e7b-47ce-8f6a-5ccf2346aae8","name":"create deferral screen","description":"Shows end-user the option to defer a workflow","platform":12,"is_idempotent":false,"allowed_in_catalog":false,"script_data":"QWRkLVR5cGUgLUFzc2VtYmx5TmFtZSBQcmVzZW50YXRpb25GcmFtZXdvcmsKCgokRGVmZXJyYWxQYXRoID0gIkM6XFByb2dyYW1EYXRhXEFpcndhdGNoXERlZmVycmFsIgoKaWYoKFRlc3QtUGF0aCAiJCgkRGVmZXJyYWxQYXRoKVx3b3JrZmxvdy50eHQiKSAtZXEgJHRydWUpCnsKICAgICBHZXQtRGF0ZSAtRm9ybWF0IHMgfCBPdXQtRmlsZSAtRmlsZVBhdGggIiQoJERlZmVycmFsUGF0aClcd29ya2Zsb3cudHh0IiAtQXBwZW5kCn0gCmVsc2UKewogICAgIE5ldy1JdGVtIC1QYXRoICREZWZlcnJhbFBhdGggLU5hbWUgIndvcmtmbG93LnR4dCIgLUl0ZW1UeXBlIEZpbGUgLUZvcmNlCiAgICAgR2V0LURhdGUgLUZvcm1hdCBzIHwgT3V0LUZpbGUgLUZpbGVQYXRoICIkKCREZWZlcnJhbFBhdGgpXHdvcmtmbG93LnR4dCIgLUFwcGVuZAp9CgoKW3htbF0kWEFNTCA9IEAiCjxXaW5kb3cgICAgIHhtbG5zPSJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dpbmZ4LzIwMDYveGFtbC9wcmVzZW50YXRpb24iCiAgICB4bWxuczp4PSJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dpbmZ4LzIwMDYveGFtbCIKICAgICAgICBUaXRsZT0iV29ya2Zsb3cgZGVmZXJyYWwiIEhlaWdodD0iNjAwIiBXaWR0aD0iNjAwIiBXaW5kb3dTdGFydHVwTG9jYXRpb249IkNlbnRlclNjcmVlbiIgUmVzaXplTW9kZT0iTm9SZXNpemUiIFdpbmRvd1N0eWxlPSJOb25lIj4KICAgICA8R3JpZCBCYWNrZ3JvdW5kPSIjRkZFRUVFRUUiPgogICAgIDxUZXh0QmxvY2sgRm9udFNpemU9IjI0IiBIb3Jpem9udGFsQWxpZ25tZW50PSJjZW50ZXIiIFRleHRXcmFwcGluZz0iV3JhcCIgVGV4dD0iSGkgJCgkZW52OnRleHQpIiBWZXJ0aWNhbEFsaWdubWVudD0iVG9wIiAgSGVpZ2h0PSI4MCIgV2lkdGg9IjQ2MCIgTWFyZ2luPSIyMCwxMCwwLDAiLz4KICAgICAgICA8VGV4dEJsb2NrIEZvbnRTaXplPSIyNCIgSG9yaXpvbnRhbEFsaWdubWVudD0iY2VudGVyIiBUZXh0V3JhcHBpbmc9IldyYXAiIFRleHQ9IlRoZXJlIGlzIGEgcGVuZGluZyB3b3JrZmxvdyBmb3IgeW91ciBkZXZpY2UuIiBWZXJ0aWNhbEFsaWdubWVudD0iVG9wIiAgSGVpZ2h0PSI4MCIgV2lkdGg9IjQ2MCIgTWFyZ2luPSIyMCwxMDAsMCwwIi8+CiAgICAgICAgPFRleHRCbG9jayBGb250U2l6ZT0iMjQiIEhvcml6b250YWxBbGlnbm1lbnQ9IkNlbnRlciIgVGV4dFdyYXBwaW5nPSJXcmFwIiBUZXh0PSJEdXJpbmcgdGhpcyB0aW1lIHlvdXIgd29yayBpcyBtaWdodCBhZmZlY3RlZC4iIFZlcnRpY2FsQWxpZ25tZW50PSJUb3AiIEhlaWdodD0iNjQiIFdpZHRoPSI0NjAiIE1hcmdpbj0iMjAsMTgwLDAsMCIvPgogICAgICAgIDxUZXh0QmxvY2sgRm9udFNpemU9IjI0IiBIb3Jpem9udGFsQWxpZ25tZW50PSJDZW50ZXIiIFRleHRXcmFwcGluZz0iV3JhcCIgVGV4dD0iWW91IGhhdmUgdGhlIG9wdGlvbiB0byBkZWZlciB0aGUgd29ya2Zsb3cgZm9yIDMgdGltZXMuIEFmdGVyIHRoYXQsIHRoZSB3b3JrZmxvdyB3aWxsIGJlIGZvcmNlZCB0byBydW4uIiBWZXJ0aWNhbEFsaWdubWVudD0iVG9wIiBIZWlnaHQ9IjEwMCIgV2lkdGg9IjQ2MCIgTWFyZ2luPSIyMCwyNjAsMCwwIi8+CiAgICAgICAgCiAgICAgICAgPEJ1dHRvbiB4Ok5hbWU9IlN0YXJ0QnV0dG9uIiBGb3JlZ3JvdW5kPSJXaGl0ZSIgQ29udGVudD0iU3RhcnQgdGhlIHdvcmtmbG93IiBGb250V2VpZ2h0PSJCb2xkIiBIb3Jpem9udGFsQWxpZ25tZW50PSJMZWZ0IiBNYXJnaW49IjIwLDQzNSwwLDAiIFZlcnRpY2FsQWxpZ25tZW50PSJUb3AiIFdpZHRoPSIyMzIiIEhlaWdodD0iNDkiIEF1dG9tYXRpb25Qcm9wZXJ0aWVzLk5hbWU9IlN0YXJ0IiBCYWNrZ3JvdW5kPSIjRkYwRjkxMkMiLz4KICAgICAgICA8QnV0dG9uIHg6TmFtZT0iU3RvcEJ1dHRvbiIgRm9yZWdyb3VuZD0iV2hpdGUiIENvbnRlbnQ9IkRlZmVyIHRoZSB3b3JrZmxvdyIgRm9udFdlaWdodD0iQm9sZCIgSG9yaXpvbnRhbEFsaWdubWVudD0iUmlnaHQiIE1hcmdpbj0iMjAsNDM1LDIwLDIwIiBWZXJ0aWNhbEFsaWdubWVudD0iVG9wIiBXaWR0aD0iMjMyIiBIZWlnaHQ9IjQ5IiBCYWNrZ3JvdW5kPSIjRkZENjA5MDkiLz4KICAgIDwvR3JpZD4KPC9XaW5kb3c+CgoiQAoKCiAgICAkTGluZUNvdW50ID0gKEdldC1Db250ZW50ICIkKCREZWZlcnJhbFBhdGgpXHdvcmtmbG93LnR4dCIpLmNvdW50CgoKICAgIGlmKCRMaW5lQ291bnQgLWVxIDQpCiAgICB7CiAgICAgICAgCiAgICAgICAgW3htbF0kWEFNTCA9IEAiCjxXaW5kb3cgICAgIHhtbG5zPSJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dpbmZ4LzIwMDYveGFtbC9wcmVzZW50YXRpb24iCiAgICB4bWxuczp4PSJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dpbmZ4LzIwMDYveGFtbCIKICAgICAgICBUaXRsZT0iV29ya2Zsb3cgZGVmZXJyYWwiIEhlaWdodD0iNjAwIiBXaWR0aD0iNjAwIiBXaW5kb3dTdGFydHVwTG9jYXRpb249IkNlbnRlclNjcmVlbiIgUmVzaXplTW9kZT0iTm9SZXNpemUiIFdpbmRvd1N0eWxlPSJOb25lIj4KICAgICA8R3JpZCBCYWNrZ3JvdW5kPSIjRkZFRUVFRUUiPgogICAgICAgICA8VGV4dEJsb2NrIEZvbnRTaXplPSIyNCIgSG9yaXpvbnRhbEFsaWdubWVudD0iY2VudGVyIiBUZXh0V3JhcHBpbmc9IldyYXAiIFRleHQ9IkhpICQoJGVudjp0ZXh0KSIgVmVydGljYWxBbGlnbm1lbnQ9IlRvcCIgIEhlaWdodD0iODAiIFdpZHRoPSI0NjAiIE1hcmdpbj0iMjAsMTAsMCwwIi8+CiAgICAgICAgPFRleHRCbG9jayBGb250U2l6ZT0iMjQiIEhvcml6b250YWxBbGlnbm1lbnQ9ImNlbnRlciIgVGV4dFdyYXBwaW5nPSJXcmFwIiBUZXh0PSJUaGVyZSBpcyBhIHBlbmRpbmcgd29ya2Zsb3cgZm9yIHlvdXIgZGV2aWNlLiIgVmVydGljYWxBbGlnbm1lbnQ9IlRvcCIgIEhlaWdodD0iODAiIFdpZHRoPSI0NjAiIE1hcmdpbj0iMjAsMTAwLDAsMCIvPgogICAgICAgIDxUZXh0QmxvY2sgRm9udFNpemU9IjI0IiBIb3Jpem9udGFsQWxpZ25tZW50PSJDZW50ZXIiIFRleHRXcmFwcGluZz0iV3JhcCIgVGV4dD0iRHVyaW5nIHRoaXMgdGltZSB5b3VyIHdvcmsgaXMgbWlnaHQgYWZmZWN0ZWQuIiBWZXJ0aWNhbEFsaWdubWVudD0iVG9wIiBIZWlnaHQ9IjY0IiBXaWR0aD0iNDYwIiBNYXJnaW49IjIwLDE4MCwwLDAiLz4KICAgICAgICA8VGV4dEJsb2NrIEZvbnRTaXplPSIyNCIgSG9yaXpvbnRhbEFsaWdubWVudD0iQ2VudGVyIiBUZXh0V3JhcHBpbmc9IldyYXAiIFRleHQ9IlRoZSB3b3JrZmxvdyB3aWxsIGJlIHN0YXJ0ZWQgbm93ISIgVmVydGljYWxBbGlnbm1lbnQ9IlRvcCIgSGVpZ2h0PSIxMDAiIFdpZHRoPSI0NjAiIE1hcmdpbj0iMjAsMjYwLDAsMCIvPgogICAgICAgIAogICAgICAgIDxCdXR0b24geDpOYW1lPSJTdGFydEJ1dHRvbiIgRm9yZWdyb3VuZD0iV2hpdGUiIENvbnRlbnQ9IlN0YXJ0IHRoZSB3b3JrZmxvdyIgRm9udFdlaWdodD0iQm9sZCIgSG9yaXpvbnRhbEFsaWdubWVudD0iQ2VudGVyIiBNYXJnaW49IjAsNDM1LDAsMCIgVmVydGljYWxBbGlnbm1lbnQ9IlRvcCIgV2lkdGg9IjIzMiIgSGVpZ2h0PSI0OSIgQXV0b21hdGlvblByb3BlcnRpZXMuTmFtZT0iU3RhcnQiIEJhY2tncm91bmQ9IiNGRjBGOTEyQyIvPgogICAgPC9HcmlkPgo8L1dpbmRvdz4KCiJACiAgICAgIFJlbW92ZS1JdGVtIC1QYXRoICIkKCREZWZlcnJhbFBhdGgpXHdvcmtmbG93LnR4dCIgLUZvcmNlCiAgICAgIE5ldy1JdGVtIC1QYXRoICREZWZlcnJhbFBhdGggLU5hbWUgInN0YXJ0LnR4dCIgLUl0ZW1UeXBlIEZpbGUgLUZvcmNlCgkgIE5ldy1JdGVtIC1QYXRoICREZWZlcnJhbFBhdGggLU5hbWUgImluc3RhbGxlZC50eHQiIC1JdGVtVHlwZSBGaWxlIC1Gb3JjZQogICAgICAKICAgICAgU3RhcnQtU2xlZXAgLVNlY29uZHMgNQogICAgfQoKCiRyZWFkZXI9KE5ldy1PYmplY3QgU3lzdGVtLlhtbC5YbWxOb2RlUmVhZGVyICR4YW1sKQokZD1bV2luZG93cy5NYXJrdXAuWGFtbFJlYWRlcl06OkxvYWQoICRyZWFkZXIgKQoKI0Nvbm5lY3QgdG8gQ29udHJvbAokZC5GaW5kTmFtZSgiU3RvcEJ1dHRvbiIpLmFkZF9jbGljayh7CiAgICAgCiAgICAkZC5DbG9zZSgpCn0pCgokZC5GaW5kTmFtZSgiU3RhcnRCdXR0b24iKS5hZGRfY2xpY2soewogICAgCiAgICAgaWYoJExpbmVDb3VudCkKICAgICB7CiAgICAgICAgUmVtb3ZlLUl0ZW0gLVBhdGggIiQoJERlZmVycmFsUGF0aClcd29ya2Zsb3cudHh0IiAtRm9yY2UKICAgICB9CgogICAgIE5ldy1JdGVtIC1QYXRoICREZWZlcnJhbFBhdGggLU5hbWUgInN0YXJ0LnR4dCIgLUl0ZW1UeXBlIEZpbGUgLUZvcmNlCgogICAgIFN0YXJ0LVNsZWVwIC1TZWNvbmRzIDUKCiAgICAgJGQuQ2xvc2UoKQp9KQoKCiRkLlNob3dEaWFsb2coKSB8IG91dC1udWxs","timeout":3600,"script_type":1,"execution_context":3,"platform_architecture":16,"script_variables":[],"user_interaction":true},{"script_uuid":"27ca6ec3-d2ea-492b-b767-5dc85fc2e046","name":"deferral cleanup","description":"Cleans up the deferral data on the device","platform":12,"is_idempotent":false,"allowed_in_catalog":false,"script_data":"UmVtb3ZlLUl0ZW0gLVBhdGggIkM6XFByb2dyYW1EYXRhXEFpcndhdGNoXERlZmVycmFsXHN0YXJ0LnR4dCIgLUZvcmNlCk5ldy1JdGVtIC1QYXRoICJDOlxQcm9ncmFtRGF0YVxBaXJ3YXRjaFxEZWZlcnJhbCIgLU5hbWUgImluc3RhbGxlZC50eHQiIC1JdGVtVHlwZSBGaWxlIC1Gb3JjZQ==","timeout":60,"script_type":1,"execution_context":2,"platform_architecture":16,"script_variables":[],"user_interaction":false}],"sensors":[{"sensor_uuid":"b6b73946-e6f5-4e45-ab22-8c975f9aea7e","name":"newenrolled","description":"","platform":12,"query_type":1,"query_response_type":3,"execution_context":"System","execution_architecture":4,"script_data":"JEV2ZW50ID0gR2V0LVdpbkV2ZW50IC1Mb2dOYW1lIE1pY3Jvc29mdC1XaW5kb3dzLURldmljZU1hbmFnZW1lbnQtRW50ZXJwcmlzZS1EaWFnbm9zdGljcy1Qcm92aWRlci9BZG1pbiB8IFdoZXJlLU9iamVjdCB7JF8uSUQgLWVxICI3MiJ9IHwgc2VsZWN0IC1MYXN0IDEKaWYoJEV2ZW50KQp7CiAgICAkY3VycmVudGRhdGUgPSBHZXQtRGF0ZQogICAgCiAgICBpZigkY3VycmVudGRhdGUuQWRkRGF5cygtNykgLWxlICRFdmVudC5UaW1lQ3JlYXRlZCkKICAgIHsKICAgICAgICAkTmV3RW5yb2xsbWVudCA9ICR0cnVlIAogICAgfQogICAgZWxzZXskTmV3RW5yb2xsbWVudCA9ICRmYWxzZX0KICAgIAp9CmVsc2V7JE5ld0Vucm9sbG1lbnQgPSAkZmFsc2V9CgpyZXR1cm4gJE5ld0Vucm9sbG1lbnQ=","script_environment_variables":[]}]}